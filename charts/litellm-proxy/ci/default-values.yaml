# CI test values for litellm-proxy chart
#
# LiteLLM requires a PostgreSQL database to function. Without a real database,
# the pod cannot start or pass health checks. Similar to EPP (which requires
# real InferencePool backends), we set replicas: 0 to validate template
# rendering without expecting the deployment to become ready.
#
# ZERO-CONFIG DEPLOYMENT (production):
#   helm install litellm-proxy ./charts/litellm-proxy
#
# This works out of the box with:
#   - Internal CNPG PostgreSQL cluster
#   - Internal Valkey cache
#   - Auto-generated master key and salt key

# Zero replicas for CI - LiteLLM cannot start without a real database
replicaCount: 0

# Disable internal database (requires CNPG operator which may not be in CI)
database:
  internal:
    enabled: false
  external:
    host: "localhost"
    port: 5432
    name: "litellm"
    user: "litellm"
    secretName: "litellm-proxy-db-password"
    passwordSecretKey: "password"

# Disable internal cache for CI simplicity
cache:
  enabled: false
  internal:
    enabled: false

# Disable migration job (requires database)
migrationJob:
  enabled: false

# Disable init containers that wait for infrastructure (not present in CI)
initContainers:
  waitForDatabase: false
  waitForCache: false

# Disable HTTPRoute (requires Gateway API CRDs)
httpRoute:
  enabled: false

# Disable ServiceMonitor (requires Prometheus Operator CRDs)
serviceMonitor:
  enabled: false

# Disable HPA (not needed for CI)
autoscaling:
  enabled: false

# Disable PDB (not needed for CI)
podDisruptionBudget:
  enabled: false

# Disable Grafana dashboards (requires Grafana)
dashboards:
  enabled: false
