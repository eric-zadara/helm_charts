{{- if .Values.s3Storage.enabled }}
# ServiceAccount referencing S3 Secret for KServe StorageInitializer credential discovery
# KServe's StorageInitializer reads S3 credentials from the ServiceAccount's secrets list
apiVersion: v1
kind: ServiceAccount
metadata:
  name: {{ .Values.s3Storage.serviceAccountName }}
  labels:
    {{- include "model-serving.labels" . | nindent 4 }}
secrets:
  - name: {{ .Values.s3Storage.secretName }}
{{- end }}
