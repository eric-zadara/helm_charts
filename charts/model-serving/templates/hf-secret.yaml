{{- if .Values.huggingface.secretEnabled }}
# HuggingFace token secret for gated model access (e.g., Llama 3, Mistral)
# For production: use Sealed Secrets, External Secrets Operator, or Vault
# rather than storing the token in values.yaml
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.huggingface.secretName }}
  labels:
    {{- include "model-serving.labels" . | nindent 4 }}
type: Opaque
{{- if .Values.huggingface.token }}
stringData:
  HF_TOKEN: {{ .Values.huggingface.token | quote }}
{{- else }}
# Token must be provided via --set huggingface.token=xxx or external secret management
# Example: helm upgrade --set huggingface.token=$HF_TOKEN
data: {}
{{- end }}
{{- end }}
