# CI test values for inference-infrastructure
# Disables database subcharts (require CNPG operator) for lint testing
# Production deployment uses postgresql.enabled=true and valkey.enabled=true

# Disable database components for CI lint (require operators)
postgresql:
  enabled: false

valkey:
  enabled: false

# Networking layer - minimal config for lint
networking-layer:
  enabled: true
  # Disable envoy-gateway - requires Gateway API CRDs
  envoy-gateway:
    enabled: false
  # Disable kourier - requires Knative Serving CRDs
  kourier:
    enabled: false
  # Disable gateway - requires GatewayClass from Envoy Gateway
  gateway:
    name: ""
  # Disable TLS - requires cert-manager
  tls:
    enabled: false
  # Disable Knative ConfigMaps - requires Knative Serving namespace
  knative:
    enabled: false

# LiteLLM proxy - use new internal/external structure
litellm-proxy:
  enabled: true
  # One replica for CI
  replicaCount: 1

  # Disable internal resources (require CNPG operator / would create valkey)
  database:
    internal:
      enabled: false
    external:
      host: "mock-postgresql-pooler-rw"
      port: 5432
      name: "app"
      user: "app"
      secretName: "mock-postgresql-app"
      passwordSecretKey: "password"

  cache:
    enabled: false
    internal:
      enabled: false

  # Disable features requiring other infrastructure
  httpRoute:
    enabled: false
  migrationJob:
    enabled: false
  serviceMonitor:
    enabled: false
