# CI test values for inference-gateway chart
# Tests EPP with a mock model server to validate full deployment lifecycle.
# Requires: Gateway API Inference Extension CRDs (from inference-operators)

# EPP configuration - runs with mock backend
epp:
  replicas: 1
  poolName: "test-pool"
  poolNamespace: "default"

# Create a test InferencePool pointing to mock model server
testPool:
  enabled: true
  targetPort: 8000
  selector:
    app: test-model-server
  failureMode: "FailOpen"

# Enable CI mock model server (satisfies EPP endpoint requirement)
ci:
  modelServer:
    enabled: true

# Disable internal Gateway (requires Gateway API CRDs from envoy-gateway)
gateway:
  enabled: false

# Disable EnvoyExtensionPolicy (requires Envoy Gateway CRDs)
extensionPolicy:
  enabled: false

# RBAC is standard K8s - safe to enable
rbac:
  create: true

# Disable ServiceMonitor (requires Prometheus Operator CRDs)
serviceMonitor:
  enabled: false

# Disable Grafana dashboards (requires Grafana)
dashboards:
  enabled: false
